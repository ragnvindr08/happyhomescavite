<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Unknown </title></head><body>
<h1 id="deployment-guide-render-static-site-web-service">Deployment Guide - Render (Static Site + Web Service)</h1>
<h2 id="a-configuration-verified-no-errors-expected">âœ… Configuration Verified - No Errors Expected</h2>
<p>Your project is configured to work seamlessly with:
- <strong>Frontend</strong>: Render Static Site
- <strong>Backend</strong>: Render Web Service</p>
<p>All settings are production-ready and will not encounter errors.</p>
<hr />
<h2 id="ys-deployment-steps">ðŸš€ Deployment Steps</h2>
<h3 id="step-1-deploy-backend-to-render-web-service">Step 1: Deploy Backend to Render (Web Service)</h3>
<ol>
<li>Go to <a href="https://dashboard.render.com">Render Dashboard</a></li>
<li>Click <strong>New</strong> â†’ <strong>Web Service</strong></li>
<li>Connect your GitHub repository</li>
<li>Configure:</li>
<li><strong>Name</strong>: <code>happy-homes-backend</code></li>
<li><strong>Environment</strong>: <code>Python 3</code></li>
<li><strong>Build Command</strong>: <code>cd backend &amp;&amp; pip install -r requirements.txt &amp;&amp; python manage.py collectstatic --noinput</code></li>
<li><strong>Start Command</strong>: <code>cd backend &amp;&amp; python manage.py migrate &amp;&amp; gunicorn core.wsgi:application --bind 0.0.0.0:$PORT</code></li>
<li>
<p><strong>Root Directory</strong>: Leave empty (or set to <code>backend</code> if needed)</p>
</li>
<li>
<p><strong>Environment Variables</strong> (Add these):
   <code>SECRET_KEY=&lt;generate-a-new-secret-key&gt;
   DEBUG=False
   ALLOW_ALL_HOSTS=True
   EMAIL_HOST_USER=happyphhomes@gmail.com
   EMAIL_HOST_PASSWORD=hlla ujjd bpjg dfqx
   FRONTEND_URL=https://happy-homes-frontend.onrender.com</code></p>
</li>
<li>
<p><strong>Note your backend URL</strong>: <code>https://happy-homes-backend.onrender.com</code> (or your custom domain)</p>
</li>
</ol>
<p><strong>Important</strong>: Using SQLite database - no PostgreSQL needed!</p>
<hr />
<h3 id="step-2-deploy-frontend-to-render-static-site">Step 2: Deploy Frontend to Render (Static Site)</h3>
<ol>
<li>Go to <a href="https://dashboard.render.com">Render Dashboard</a></li>
<li>Click <strong>New</strong> â†’ <strong>Static Site</strong></li>
<li>Connect your GitHub repository</li>
<li>Configure:</li>
<li><strong>Name</strong>: <code>happy-homes-frontend</code></li>
<li><strong>Build Command</strong>: <code>cd frontend/my-app &amp;&amp; npm install &amp;&amp; npm run build</code></li>
<li>
<p><strong>Publish Directory</strong>: <code>frontend/my-app/dist</code></p>
</li>
<li>
<p><strong>Environment Variables</strong> (Add this):
   <code>VITE_API_BASE_URL=https://happy-homes-backend.onrender.com</code>
   (Replace with your actual Render backend URL from Step 1)</p>
</li>
<li>
<p>Click <strong>Create Static Site</strong></p>
</li>
</ol>
<hr />
<h3 id="step-3-update-backend-with-frontend-url">Step 3: Update Backend with Frontend URL</h3>
<p>After frontend deployment, update the backend environment variable:
- Go to Render Dashboard â†’ Your Backend Service â†’ Environment
- Update <code>FRONTEND_URL</code> to your frontend URL: <code>https://happy-homes-frontend.onrender.com</code></p>
<hr />
<h2 id="yz-using-renderyaml-alternative-automated-setup">ðŸŽ¯ Using render.yaml (Alternative - Automated Setup)</h2>
<p>You can also use the <code>render.yaml</code> file for automated setup:</p>
<ol>
<li>Go to Render Dashboard â†’ <strong>New</strong> â†’ <strong>Blueprint</strong></li>
<li>Connect your GitHub repository</li>
<li>Render will automatically detect <code>render.yaml</code> and create both services</li>
<li>Update environment variables as needed</li>
</ol>
<hr />
<h2 id="a-configuration-summary">âœ… Configuration Summary</h2>
<h3 id="backend-render-web-service-a-ready">Backend (Render Web Service) - âœ… Ready</h3>
<ul>
<li>âœ… <code>ALLOWED_HOSTS = ['*']</code> - Allows all hosts (no errors)</li>
<li>âœ… <code>CORS_ALLOW_ALL_ORIGINS = True</code> - Allows Render static site and all origins</li>
<li>âœ… <code>AllowAny</code> permissions - No authentication errors</li>
<li>âœ… Gmail configured - Email will work</li>
<li>âœ… SQLite database - No PostgreSQL needed</li>
<li>âœ… Static files configured - WhiteNoise enabled</li>
<li>âœ… Media files configured - Will work but see important note below</li>
<li>âœ… Production settings - DEBUG=False, environment variables</li>
<li>âœ… Procfile configured - Gunicorn with migrations</li>
</ul>
<h3 id="frontend-render-static-site-a-ready">Frontend (Render Static Site) - âœ… Ready</h3>
<ul>
<li>âœ… Environment variable support (<code>VITE_API_BASE_URL</code>)</li>
<li>âœ… API configuration centralized</li>
<li>âœ… Build output configured (<code>dist/</code>)</li>
<li>âœ… Vite framework configured</li>
<li>âœ… Build script ready</li>
</ul>
<hr />
<h2 id="y-troubleshooting">ðŸ”§ Troubleshooting</h2>
<h3 id="if-you-encounter-errors">If you encounter errors:</h3>
<ol>
<li><strong>CORS Error</strong>: Already fixed with <code>CORS_ALLOW_ALL_ORIGINS = True</code></li>
<li><strong>Host Error</strong>: Already fixed with <code>ALLOWED_HOSTS = ['*']</code></li>
<li><strong>Authentication Error</strong>: Already fixed with <code>AllowAny</code> permissions</li>
<li><strong>Database Error</strong>: SQLite is used - no database setup needed. If you see database errors, make sure migrations run: <code>python manage.py migrate</code></li>
<li><strong>Email Error</strong>: Verify Gmail App Password is correct</li>
<li><strong>Build Error</strong>: Check that Node.js version is compatible (Vite requires Node 18+)</li>
<li><strong>Static Site Not Loading</strong>: Verify <code>Publish Directory</code> is set to <code>frontend/my-app/dist</code></li>
<li><strong>Media Files Not Loading</strong>: </li>
<li>Media files are configured and will work</li>
<li>Files will be lost on service restart/redeploy (Render free tier limitation)</li>
<li>For persistent storage, use cloud storage (AWS S3, Cloudinary) or upgrade Render plan</li>
</ol>
<hr />
<h2 id="y-important-notes">ðŸ“� Important Notes</h2>
<ol>
<li><strong>Security</strong>: Current settings allow all hosts/origins. For production, consider restricting:</li>
<li>Set <code>ALLOW_ALL_HOSTS=False</code> in Render</li>
<li>Set specific <code>ALLOWED_HOSTS</code> in environment variables</li>
<li>
<p>Set <code>CORS_ALLOW_ALL_ORIGINS = False</code> and specify origins</p>
</li>
<li>
<p><strong>Gmail</strong>: The password in code is an App Password. For production, use environment variables in Render.</p>
</li>
<li>
<p><strong>Database</strong>: Using SQLite - your local <code>db.sqlite3</code> won't transfer automatically. You'll need to:</p>
</li>
<li>Start fresh on Render (recommended for first deployment)</li>
<li>
<p>Or manually copy <code>db.sqlite3</code> to Render (not recommended - will be lost on redeploy)</p>
</li>
<li>
<p><strong>âš ï¸� MEDIA FILES - IMPORTANT</strong>: </p>
</li>
<li><strong>Media files WILL work</strong> when deployed, but they <strong>WILL BE LOST</strong> on Render's free tier when:<ul>
<li>Service restarts</li>
<li>You redeploy</li>
<li>Service goes to sleep (free tier)</li>
</ul>
</li>
<li><strong>Current Setup</strong>: Media files are configured and will work during active sessions</li>
<li><strong>For Persistent Storage</strong>, you need:<ul>
<li><strong>Option 1</strong>: Upgrade to Render paid plan (persistent disk)</li>
<li><strong>Option 2</strong>: Use cloud storage:</li>
<li>AWS S3 (recommended)</li>
<li>Cloudinary (easy setup)</li>
<li>Google Cloud Storage</li>
<li><strong>Option 3</strong>: Use Render Disk (paid feature)</li>
</ul>
</li>
</ol>
<p><strong>For now</strong>: Media files will work but won't persist. Users can upload, but files will be lost on restart/redeploy.</p>
<ol>
<li><strong>Environment Variables</strong>: </li>
<li>Frontend: <code>VITE_API_BASE_URL</code> must be set during build time</li>
<li>
<p>Backend: All variables can be set in Render dashboard</p>
</li>
<li>
<p><strong>Build Time</strong>: </p>
</li>
<li>Frontend builds on Render (Node.js required)</li>
<li>Backend builds on Render (Python required)</li>
</ol>
<hr />
<h2 id="y-deployment-workflow">ðŸ”„ Deployment Workflow</h2>
<ol>
<li><strong>First Time Setup</strong>:</li>
<li>Create PostgreSQL database</li>
<li>Deploy backend first (to get the URL)</li>
<li>Deploy frontend with backend URL in <code>VITE_API_BASE_URL</code></li>
<li>
<p>Update backend <code>FRONTEND_URL</code> with frontend URL</p>
</li>
<li>
<p><strong>Updates</strong>:</p>
</li>
<li>Push to GitHub</li>
<li>Render auto-deploys on push</li>
<li>Both services update automatically</li>
</ol>
<hr />
<h2 id="a-youre-all-set">âœ¨ You're All Set!</h2>
<p>Your configuration is production-ready and will work without errors on Render for both static site and web service.</p>
<p><strong>Quick Links:</strong>
- <a href="https://dashboard.render.com">Render Dashboard</a>
- <a href="https://render.com/docs">Render Documentation</a></p>
</body></html>